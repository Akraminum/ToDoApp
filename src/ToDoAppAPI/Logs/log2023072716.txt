2023-07-27 16:05:50.988 +03:00 [INF] Application is shutting down...
2023-07-27 16:06:05.437 +03:00 [INF] User profile is available. Using 'C:\Users\Akram\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-07-27 16:06:05.853 +03:00 [INF] Now listening on: https://localhost:7244
2023-07-27 16:06:05.856 +03:00 [INF] Now listening on: http://localhost:5047
2023-07-27 16:06:05.864 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-27 16:06:05.866 +03:00 [INF] Hosting environment: Production
2023-07-27 16:06:05.868 +03:00 [INF] Content root path: e:\02-Play Ground\ToDoApp.API\src\ToDoAppAPI\
2023-07-27 16:06:07.152 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7244/api/Users application/json 151
2023-07-27 16:06:07.912 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '7/27/2023 12:52:50 PM', Current time: '7/27/2023 1:06:07 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-07-27 16:06:08.243 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '7/27/2023 12:52:50 PM', Current time: '7/27/2023 1:06:07 PM'.
2023-07-27 16:06:08.286 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (SuperAdmin|Admin)
2023-07-27 16:06:08.307 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-07-27 16:06:08.502 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7244/api/Users application/json 151 - 401 - - 1355.0267ms
2023-07-27 16:06:10.120 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7244/api/Users application/json 151
2023-07-27 16:06:10.124 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '7/27/2023 12:52:50 PM', Current time: '7/27/2023 1:06:10 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-07-27 16:06:10.131 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '7/27/2023 12:52:50 PM', Current time: '7/27/2023 1:06:10 PM'.
2023-07-27 16:06:10.132 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (SuperAdmin|Admin)
2023-07-27 16:06:10.136 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-07-27 16:06:10.139 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7244/api/Users application/json 151 - 401 - - 18.6475ms
2023-07-27 16:06:11.438 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7244/api/Users application/json 150
2023-07-27 16:06:11.445 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '7/27/2023 12:52:50 PM', Current time: '7/27/2023 1:06:11 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-07-27 16:06:11.489 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '7/27/2023 12:52:50 PM', Current time: '7/27/2023 1:06:11 PM'.
2023-07-27 16:06:11.495 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (SuperAdmin|Admin)
2023-07-27 16:06:11.497 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-07-27 16:06:11.521 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7244/api/Users application/json 150 - 401 - - 82.5938ms
2023-07-27 16:06:13.301 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7244/api/Auth/BearerToken application/json 58
2023-07-27 16:06:13.303 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '7/27/2023 12:52:50 PM', Current time: '7/27/2023 1:06:13 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-07-27 16:06:13.314 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '7/27/2023 12:52:50 PM', Current time: '7/27/2023 1:06:13 PM'.
2023-07-27 16:06:13.319 +03:00 [INF] Executing endpoint 'ToDoAppAPI.Controllers.AuthController.Authonticate (ToDoAppAPI)'
2023-07-27 16:06:13.371 +03:00 [INF] Route matched with {action = "Authonticate", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ToDoAppAPI.Dtos.Users.Authenticate.AuthenticationResponseDto]] Authonticate(ToDoAppAPI.Dtos.Users.Authenticate.AuthenticationRequestDto) on controller ToDoAppAPI.Controllers.AuthController (ToDoAppAPI).
2023-07-27 16:06:15.474 +03:00 [INF] Executed DbCommand (54ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-07-27 16:06:15.678 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2023-07-27 16:06:15.720 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-07-27 16:06:15.739 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-07-27 16:06:15.770 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2023-07-27 16:06:15.808 +03:00 [INF] Executing OkObjectResult, writing value of type 'ToDoAppAPI.Dtos.Users.Authenticate.AuthenticationResponseDto'.
2023-07-27 16:06:15.843 +03:00 [INF] Executed action ToDoAppAPI.Controllers.AuthController.Authonticate (ToDoAppAPI) in 2466.1253ms
2023-07-27 16:06:15.847 +03:00 [INF] Executed endpoint 'ToDoAppAPI.Controllers.AuthController.Authonticate (ToDoAppAPI)'
2023-07-27 16:06:15.908 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7244/api/Auth/BearerToken application/json 58 - 200 - application/json;+charset=utf-8 2606.9635ms
2023-07-27 16:06:18.170 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7244/api/Users application/json 146
2023-07-27 16:06:18.188 +03:00 [INF] Executing endpoint 'ToDoAppAPI.Controllers.UsersController.CreateUser (ToDoAppAPI)'
2023-07-27 16:06:18.193 +03:00 [INF] Route matched with {action = "CreateUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ToDoAppAPI.Dtos.Users.GetUserOutputDto]] CreateUser(ToDoAppAPI.Dtos.Users.CreateUserInputDto) on controller ToDoAppAPI.Controllers.UsersController (ToDoAppAPI).
2023-07-27 16:06:18.418 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-07-27 16:06:18.441 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-07-27 16:06:18.590 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2023-07-27 16:06:18.620 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'ToDoAppAPI.Dtos.Users.GetUserOutputDto'.
2023-07-27 16:06:18.651 +03:00 [INF] Executed action ToDoAppAPI.Controllers.UsersController.CreateUser (ToDoAppAPI) in 455.505ms
2023-07-27 16:06:18.652 +03:00 [INF] Executed endpoint 'ToDoAppAPI.Controllers.UsersController.CreateUser (ToDoAppAPI)'
2023-07-27 16:06:18.654 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7244/api/Users application/json 146 - 201 - application/json;+charset=utf-8 484.5092ms
2023-07-27 16:06:20.305 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7244/api/Users application/json 142
2023-07-27 16:06:20.307 +03:00 [INF] Executing endpoint 'ToDoAppAPI.Controllers.UsersController.CreateUser (ToDoAppAPI)'
2023-07-27 16:06:20.309 +03:00 [INF] Route matched with {action = "CreateUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ToDoAppAPI.Dtos.Users.GetUserOutputDto]] CreateUser(ToDoAppAPI.Dtos.Users.CreateUserInputDto) on controller ToDoAppAPI.Controllers.UsersController (ToDoAppAPI).
2023-07-27 16:06:20.341 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-07-27 16:06:20.345 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-07-27 16:06:20.350 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2023-07-27 16:06:20.363 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'ToDoAppAPI.Dtos.Users.GetUserOutputDto'.
2023-07-27 16:06:20.365 +03:00 [INF] Executed action ToDoAppAPI.Controllers.UsersController.CreateUser (ToDoAppAPI) in 53.0582ms
2023-07-27 16:06:20.367 +03:00 [INF] Executed endpoint 'ToDoAppAPI.Controllers.UsersController.CreateUser (ToDoAppAPI)'
2023-07-27 16:06:20.369 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7244/api/Users application/json 142 - 201 - application/json;+charset=utf-8 64.1913ms
2023-07-27 16:06:21.393 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7244/api/Users application/json 158
2023-07-27 16:06:21.395 +03:00 [INF] Executing endpoint 'ToDoAppAPI.Controllers.UsersController.CreateUser (ToDoAppAPI)'
2023-07-27 16:06:21.398 +03:00 [INF] Route matched with {action = "CreateUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ToDoAppAPI.Dtos.Users.GetUserOutputDto]] CreateUser(ToDoAppAPI.Dtos.Users.CreateUserInputDto) on controller ToDoAppAPI.Controllers.UsersController (ToDoAppAPI).
2023-07-27 16:06:21.426 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-07-27 16:06:21.435 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-07-27 16:06:21.443 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2023-07-27 16:06:21.460 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'ToDoAppAPI.Dtos.Users.GetUserOutputDto'.
2023-07-27 16:06:21.462 +03:00 [INF] Executed action ToDoAppAPI.Controllers.UsersController.CreateUser (ToDoAppAPI) in 59.3657ms
2023-07-27 16:06:21.465 +03:00 [INF] Executed endpoint 'ToDoAppAPI.Controllers.UsersController.CreateUser (ToDoAppAPI)'
2023-07-27 16:06:21.467 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7244/api/Users application/json 158 - 201 - application/json;+charset=utf-8 73.5998ms
2023-07-27 16:06:22.431 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7244/api/Users application/json 148
2023-07-27 16:06:22.432 +03:00 [INF] Executing endpoint 'ToDoAppAPI.Controllers.UsersController.CreateUser (ToDoAppAPI)'
2023-07-27 16:06:22.434 +03:00 [INF] Route matched with {action = "CreateUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ToDoAppAPI.Dtos.Users.GetUserOutputDto]] CreateUser(ToDoAppAPI.Dtos.Users.CreateUserInputDto) on controller ToDoAppAPI.Controllers.UsersController (ToDoAppAPI).
2023-07-27 16:06:22.454 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-07-27 16:06:22.459 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-07-27 16:06:22.464 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2023-07-27 16:06:22.468 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'ToDoAppAPI.Dtos.Users.GetUserOutputDto'.
2023-07-27 16:06:22.469 +03:00 [INF] Executed action ToDoAppAPI.Controllers.UsersController.CreateUser (ToDoAppAPI) in 31.8722ms
2023-07-27 16:06:22.471 +03:00 [INF] Executed endpoint 'ToDoAppAPI.Controllers.UsersController.CreateUser (ToDoAppAPI)'
2023-07-27 16:06:22.472 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7244/api/Users application/json 148 - 201 - application/json;+charset=utf-8 41.2506ms
2023-07-27 16:06:23.596 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7244/api/Users application/json 155
2023-07-27 16:06:23.597 +03:00 [INF] Executing endpoint 'ToDoAppAPI.Controllers.UsersController.CreateUser (ToDoAppAPI)'
2023-07-27 16:06:23.599 +03:00 [INF] Route matched with {action = "CreateUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ToDoAppAPI.Dtos.Users.GetUserOutputDto]] CreateUser(ToDoAppAPI.Dtos.Users.CreateUserInputDto) on controller ToDoAppAPI.Controllers.UsersController (ToDoAppAPI).
2023-07-27 16:06:23.624 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-07-27 16:06:23.630 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-07-27 16:06:23.652 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2023-07-27 16:06:23.664 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'ToDoAppAPI.Dtos.Users.GetUserOutputDto'.
2023-07-27 16:06:23.668 +03:00 [INF] Executed action ToDoAppAPI.Controllers.UsersController.CreateUser (ToDoAppAPI) in 53.5361ms
2023-07-27 16:06:23.677 +03:00 [INF] Executed endpoint 'ToDoAppAPI.Controllers.UsersController.CreateUser (ToDoAppAPI)'
2023-07-27 16:06:23.680 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7244/api/Users application/json 155 - 201 - application/json;+charset=utf-8 83.9081ms
2023-07-27 16:06:25.664 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7244/api/Users/null - -
2023-07-27 16:06:25.684 +03:00 [INF] Executing endpoint 'ToDoAppAPI.Controllers.UsersController.GetUser (ToDoAppAPI)'
2023-07-27 16:06:25.691 +03:00 [INF] Route matched with {action = "GetUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ToDoAppAPI.Dtos.Users.GetUserOutputDto]] GetUser(ToDoAppAPI.Dtos.Users.GetUserInputDto) on controller ToDoAppAPI.Controllers.UsersController (ToDoAppAPI).
2023-07-27 16:06:25.709 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-07-27 16:06:25.713 +03:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-27 16:06:25.722 +03:00 [INF] Executed action ToDoAppAPI.Controllers.UsersController.GetUser (ToDoAppAPI) in 27.8595ms
2023-07-27 16:06:25.723 +03:00 [INF] Executed endpoint 'ToDoAppAPI.Controllers.UsersController.GetUser (ToDoAppAPI)'
2023-07-27 16:06:25.725 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7244/api/Users/null - - - 404 - application/json;+charset=utf-8 61.2532ms
2023-07-27 16:06:27.943 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7244/api/Users/null - -
2023-07-27 16:06:27.953 +03:00 [INF] Executing endpoint 'ToDoAppAPI.Controllers.UsersController.GetUser (ToDoAppAPI)'
2023-07-27 16:06:27.958 +03:00 [INF] Route matched with {action = "GetUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ToDoAppAPI.Dtos.Users.GetUserOutputDto]] GetUser(ToDoAppAPI.Dtos.Users.GetUserInputDto) on controller ToDoAppAPI.Controllers.UsersController (ToDoAppAPI).
2023-07-27 16:06:27.965 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-07-27 16:06:27.970 +03:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-27 16:06:27.972 +03:00 [INF] Executed action ToDoAppAPI.Controllers.UsersController.GetUser (ToDoAppAPI) in 10.4521ms
2023-07-27 16:06:27.974 +03:00 [INF] Executed endpoint 'ToDoAppAPI.Controllers.UsersController.GetUser (ToDoAppAPI)'
2023-07-27 16:06:27.978 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7244/api/Users/null - - - 404 - application/json;+charset=utf-8 34.9805ms
2023-07-27 16:06:31.093 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7244/api/Users - -
2023-07-27 16:06:31.095 +03:00 [INF] Executing endpoint 'ToDoAppAPI.Controllers.UsersController.GetAllUser (ToDoAppAPI)'
2023-07-27 16:06:31.104 +03:00 [INF] Route matched with {action = "GetAllUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ToDoAppAPI.Dtos.Users.GetUserOutputDto]]] GetAllUser() on controller ToDoAppAPI.Controllers.UsersController (ToDoAppAPI).
2023-07-27 16:06:31.163 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE NOT (EXISTS (
    SELECT DISTINCT 1
    FROM [AspNetUserRoles] AS [a0]
    WHERE [a0].[UserId] = [a].[Id]))
2023-07-27 16:06:31.182 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[ToDoAppAPI.Dtos.Users.GetUserOutputDto, ToDoAppAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-07-27 16:06:31.193 +03:00 [INF] Executed action ToDoAppAPI.Controllers.UsersController.GetAllUser (ToDoAppAPI) in 76.8429ms
2023-07-27 16:06:31.195 +03:00 [INF] Executed endpoint 'ToDoAppAPI.Controllers.UsersController.GetAllUser (ToDoAppAPI)'
2023-07-27 16:06:31.240 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7244/api/Users - - - 200 - application/json;+charset=utf-8 146.6518ms
2023-07-27 16:06:48.086 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7244/api/Users application/json 152
2023-07-27 16:06:48.088 +03:00 [INF] Executing endpoint 'ToDoAppAPI.Controllers.UsersController.CreateUser (ToDoAppAPI)'
2023-07-27 16:06:48.094 +03:00 [INF] Route matched with {action = "CreateUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ToDoAppAPI.Dtos.Users.GetUserOutputDto]] CreateUser(ToDoAppAPI.Dtos.Users.CreateUserInputDto) on controller ToDoAppAPI.Controllers.UsersController (ToDoAppAPI).
2023-07-27 16:06:48.116 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-07-27 16:06:48.125 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-07-27 16:06:48.131 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2023-07-27 16:06:48.144 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'ToDoAppAPI.Dtos.Users.GetUserOutputDto'.
2023-07-27 16:06:48.145 +03:00 [INF] Executed action ToDoAppAPI.Controllers.UsersController.CreateUser (ToDoAppAPI) in 48.4831ms
2023-07-27 16:06:48.147 +03:00 [INF] Executed endpoint 'ToDoAppAPI.Controllers.UsersController.CreateUser (ToDoAppAPI)'
2023-07-27 16:06:48.153 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7244/api/Users application/json 152 - 201 - application/json;+charset=utf-8 66.5589ms
2023-07-27 16:06:51.370 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7244/api/Users/Myrtle54 - -
2023-07-27 16:06:51.372 +03:00 [INF] Executing endpoint 'ToDoAppAPI.Controllers.UsersController.GetUser (ToDoAppAPI)'
2023-07-27 16:06:51.374 +03:00 [INF] Route matched with {action = "GetUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ToDoAppAPI.Dtos.Users.GetUserOutputDto]] GetUser(ToDoAppAPI.Dtos.Users.GetUserInputDto) on controller ToDoAppAPI.Controllers.UsersController (ToDoAppAPI).
2023-07-27 16:06:51.383 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-07-27 16:06:51.403 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-07-27 16:06:51.431 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2023-07-27 16:06:51.435 +03:00 [INF] Executing ObjectResult, writing value of type 'ToDoAppAPI.Dtos.Users.GetUserOutputDto'.
2023-07-27 16:06:51.436 +03:00 [INF] Executed action ToDoAppAPI.Controllers.UsersController.GetUser (ToDoAppAPI) in 58.5643ms
2023-07-27 16:06:51.437 +03:00 [INF] Executed endpoint 'ToDoAppAPI.Controllers.UsersController.GetUser (ToDoAppAPI)'
2023-07-27 16:06:51.439 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7244/api/Users/Myrtle54 - - - 200 - application/json;+charset=utf-8 69.0931ms
2023-07-27 16:06:53.895 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7244/api/Users - -
2023-07-27 16:06:53.899 +03:00 [INF] Executing endpoint 'ToDoAppAPI.Controllers.UsersController.GetAllUser (ToDoAppAPI)'
2023-07-27 16:06:53.904 +03:00 [INF] Route matched with {action = "GetAllUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ToDoAppAPI.Dtos.Users.GetUserOutputDto]]] GetAllUser() on controller ToDoAppAPI.Controllers.UsersController (ToDoAppAPI).
2023-07-27 16:06:53.915 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE NOT (EXISTS (
    SELECT DISTINCT 1
    FROM [AspNetUserRoles] AS [a0]
    WHERE [a0].[UserId] = [a].[Id]))
2023-07-27 16:06:53.926 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[ToDoAppAPI.Dtos.Users.GetUserOutputDto, ToDoAppAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-07-27 16:06:53.931 +03:00 [INF] Executed action ToDoAppAPI.Controllers.UsersController.GetAllUser (ToDoAppAPI) in 23.6994ms
2023-07-27 16:06:53.932 +03:00 [INF] Executed endpoint 'ToDoAppAPI.Controllers.UsersController.GetAllUser (ToDoAppAPI)'
2023-07-27 16:06:53.934 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7244/api/Users - - - 200 - application/json;+charset=utf-8 39.2793ms
2023-07-27 16:06:58.130 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7244/api/Users/Myrtle54 - -
2023-07-27 16:06:58.132 +03:00 [INF] Executing endpoint 'ToDoAppAPI.Controllers.UsersController.DeleteUser (ToDoAppAPI)'
2023-07-27 16:06:58.145 +03:00 [INF] Route matched with {action = "DeleteUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeleteUser(System.String) on controller ToDoAppAPI.Controllers.UsersController (ToDoAppAPI).
2023-07-27 16:06:58.152 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-07-27 16:06:58.160 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-07-27 16:06:58.168 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2023-07-27 16:06:58.217 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [AspNetUsers]
OUTPUT 1
WHERE [Id] = @p0 AND [ConcurrencyStamp] = @p1;
2023-07-27 16:06:58.250 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2023-07-27 16:06:58.251 +03:00 [INF] Executed action ToDoAppAPI.Controllers.UsersController.DeleteUser (ToDoAppAPI) in 103.7677ms
2023-07-27 16:06:58.253 +03:00 [INF] Executed endpoint 'ToDoAppAPI.Controllers.UsersController.DeleteUser (ToDoAppAPI)'
2023-07-27 16:06:58.257 +03:00 [ERR] Connection id "0HMSEK8UMKQ1V", Request id "0HMSEK8UMKQ1V:00000011": An unhandled exception was thrown by the application.
System.InvalidOperationException: Writing to the response body is invalid for responses with status code 204.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.Advance(Int32 bytes)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponsePipeWriter.Advance(Int32 bytes)
   at Microsoft.AspNetCore.Http.HttpResponseWritingExtensions.Write(HttpResponse response, String text, Encoding encoding)
   at Microsoft.AspNetCore.Http.HttpResponseWritingExtensions.WriteAsync(HttpResponse response, String text, Encoding encoding, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.HttpResponseWritingExtensions.WriteAsync(HttpResponse response, String text, CancellationToken cancellationToken)
   at ToDoAppAPI.Utitlities.Responses.ResponseWrapperMiddlwware.Invoke(HttpContext context) in e:\02-Play Ground\ToDoApp.API\src\ToDoAppAPI\Utitlities\Responses\ResponseWrapperMiddlwware.cs:line 60
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2023-07-27 16:06:58.343 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7244/api/Users/Myrtle54 - - - 204 - - 213.4240ms
2023-07-27 16:07:02.134 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7244/api/Users application/json 142
2023-07-27 16:07:02.138 +03:00 [INF] Executing endpoint 'ToDoAppAPI.Controllers.UsersController.CreateUser (ToDoAppAPI)'
2023-07-27 16:07:02.147 +03:00 [INF] Route matched with {action = "CreateUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ToDoAppAPI.Dtos.Users.GetUserOutputDto]] CreateUser(ToDoAppAPI.Dtos.Users.CreateUserInputDto) on controller ToDoAppAPI.Controllers.UsersController (ToDoAppAPI).
2023-07-27 16:07:02.162 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-07-27 16:07:02.176 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-07-27 16:07:02.185 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2023-07-27 16:07:02.190 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'ToDoAppAPI.Dtos.Users.GetUserOutputDto'.
2023-07-27 16:07:02.192 +03:00 [INF] Executed action ToDoAppAPI.Controllers.UsersController.CreateUser (ToDoAppAPI) in 42.6792ms
2023-07-27 16:07:02.193 +03:00 [INF] Executed endpoint 'ToDoAppAPI.Controllers.UsersController.CreateUser (ToDoAppAPI)'
2023-07-27 16:07:02.199 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7244/api/Users application/json 142 - 201 - application/json;+charset=utf-8 64.8079ms
2023-07-27 16:08:40.377 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7244/api/Users/ResetPassword/Vidal26 application/json 31
2023-07-27 16:08:40.378 +03:00 [INF] Executing endpoint 'ToDoAppAPI.Controllers.UsersController.ResetPassword (ToDoAppAPI)'
2023-07-27 16:08:40.386 +03:00 [INF] Route matched with {action = "ResetPassword", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] ResetPassword(System.String, ToDoAppAPI.Dtos.Users.ResetUserPasswordInputDto) on controller ToDoAppAPI.Controllers.UsersController (ToDoAppAPI).
2023-07-27 16:08:40.404 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-07-27 16:08:40.410 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-07-27 16:08:40.423 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2023-07-27 16:08:40.436 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-07-27 16:08:40.442 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-07-27 16:08:40.465 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p16='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p17='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2023-07-27 16:08:40.469 +03:00 [INF] Executing AcceptedResult, writing value of type 'null'.
2023-07-27 16:08:40.471 +03:00 [INF] Executed action ToDoAppAPI.Controllers.UsersController.ResetPassword (ToDoAppAPI) in 76.1526ms
2023-07-27 16:08:40.472 +03:00 [INF] Executed endpoint 'ToDoAppAPI.Controllers.UsersController.ResetPassword (ToDoAppAPI)'
2023-07-27 16:08:40.474 +03:00 [ERR] Connection id "0HMSEK8UMKQ21", Request id "0HMSEK8UMKQ21:00000003": An unhandled exception was thrown by the application.
System.InvalidOperationException: Response Content-Length mismatch: too many bytes written (101 of 0).
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.VerifyAndUpdateWrite(Int32 count)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.Advance(Int32 bytes)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponsePipeWriter.Advance(Int32 bytes)
   at Microsoft.AspNetCore.Http.HttpResponseWritingExtensions.Write(HttpResponse response, String text, Encoding encoding)
   at Microsoft.AspNetCore.Http.HttpResponseWritingExtensions.WriteAsync(HttpResponse response, String text, Encoding encoding, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.HttpResponseWritingExtensions.WriteAsync(HttpResponse response, String text, CancellationToken cancellationToken)
   at ToDoAppAPI.Utitlities.Responses.ResponseWrapperMiddlwware.Invoke(HttpContext context) in e:\02-Play Ground\ToDoApp.API\src\ToDoAppAPI\Utitlities\Responses\ResponseWrapperMiddlwware.cs:line 60
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2023-07-27 16:08:40.487 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7244/api/Users/ResetPassword/Vidal26 application/json 31 - 202 0 - 110.5439ms
2023-07-27 16:08:56.818 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7244/api/Users/ResetPassword/admin.Ida66 application/json 31
2023-07-27 16:08:56.820 +03:00 [INF] Executing endpoint 'ToDoAppAPI.Controllers.UsersController.ResetPassword (ToDoAppAPI)'
2023-07-27 16:08:56.829 +03:00 [INF] Route matched with {action = "ResetPassword", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] ResetPassword(System.String, ToDoAppAPI.Dtos.Users.ResetUserPasswordInputDto) on controller ToDoAppAPI.Controllers.UsersController (ToDoAppAPI).
2023-07-27 16:08:56.835 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-07-27 16:08:56.840 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-07-27 16:08:56.844 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2023-07-27 16:08:56.862 +03:00 [INF] Executing ForbidResult with authentication schemes ([]).
2023-07-27 16:08:56.866 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-07-27 16:08:56.867 +03:00 [INF] Executed action ToDoAppAPI.Controllers.UsersController.ResetPassword (ToDoAppAPI) in 34.4634ms
2023-07-27 16:08:56.868 +03:00 [INF] Executed endpoint 'ToDoAppAPI.Controllers.UsersController.ResetPassword (ToDoAppAPI)'
2023-07-27 16:08:56.870 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7244/api/Users/ResetPassword/admin.Ida66 application/json 31 - 403 - - 51.7848ms
2023-07-27 16:09:05.284 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7244/api/Users/ResetPassword/Vidal26 application/json 31
2023-07-27 16:09:05.285 +03:00 [INF] Executing endpoint 'ToDoAppAPI.Controllers.UsersController.ResetPassword (ToDoAppAPI)'
2023-07-27 16:09:05.287 +03:00 [INF] Route matched with {action = "ResetPassword", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] ResetPassword(System.String, ToDoAppAPI.Dtos.Users.ResetUserPasswordInputDto) on controller ToDoAppAPI.Controllers.UsersController (ToDoAppAPI).
2023-07-27 16:09:05.307 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-07-27 16:09:05.319 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-07-27 16:09:05.338 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2023-07-27 16:09:05.361 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-07-27 16:09:05.369 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-07-27 16:09:05.378 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p16='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p17='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2023-07-27 16:09:05.382 +03:00 [INF] Executing AcceptedResult, writing value of type 'null'.
2023-07-27 16:09:05.394 +03:00 [INF] Executed action ToDoAppAPI.Controllers.UsersController.ResetPassword (ToDoAppAPI) in 93.5298ms
2023-07-27 16:09:05.396 +03:00 [INF] Executed endpoint 'ToDoAppAPI.Controllers.UsersController.ResetPassword (ToDoAppAPI)'
2023-07-27 16:09:05.399 +03:00 [ERR] Connection id "0HMSEK8UMKQ23", Request id "0HMSEK8UMKQ23:00000003": An unhandled exception was thrown by the application.
System.InvalidOperationException: Response Content-Length mismatch: too many bytes written (101 of 0).
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.VerifyAndUpdateWrite(Int32 count)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.Advance(Int32 bytes)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponsePipeWriter.Advance(Int32 bytes)
   at Microsoft.AspNetCore.Http.HttpResponseWritingExtensions.Write(HttpResponse response, String text, Encoding encoding)
   at Microsoft.AspNetCore.Http.HttpResponseWritingExtensions.WriteAsync(HttpResponse response, String text, Encoding encoding, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.HttpResponseWritingExtensions.WriteAsync(HttpResponse response, String text, CancellationToken cancellationToken)
   at ToDoAppAPI.Utitlities.Responses.ResponseWrapperMiddlwware.Invoke(HttpContext context) in e:\02-Play Ground\ToDoApp.API\src\ToDoAppAPI\Utitlities\Responses\ResponseWrapperMiddlwware.cs:line 60
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2023-07-27 16:09:05.409 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7244/api/Users/ResetPassword/Vidal26 application/json 31 - 202 0 - 125.1095ms
2023-07-27 16:09:08.052 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7244/api/Users/ResetPassword/admin.Ida66 application/json 31
2023-07-27 16:09:08.059 +03:00 [INF] Executing endpoint 'ToDoAppAPI.Controllers.UsersController.ResetPassword (ToDoAppAPI)'
2023-07-27 16:09:08.063 +03:00 [INF] Route matched with {action = "ResetPassword", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] ResetPassword(System.String, ToDoAppAPI.Dtos.Users.ResetUserPasswordInputDto) on controller ToDoAppAPI.Controllers.UsersController (ToDoAppAPI).
2023-07-27 16:09:08.069 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-07-27 16:09:08.083 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-07-27 16:09:08.089 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2023-07-27 16:09:08.097 +03:00 [INF] Executing ForbidResult with authentication schemes ([]).
2023-07-27 16:09:08.114 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-07-27 16:09:08.184 +03:00 [INF] Executed action ToDoAppAPI.Controllers.UsersController.ResetPassword (ToDoAppAPI) in 117.6189ms
2023-07-27 16:09:08.186 +03:00 [INF] Executed endpoint 'ToDoAppAPI.Controllers.UsersController.ResetPassword (ToDoAppAPI)'
2023-07-27 16:09:08.188 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7244/api/Users/ResetPassword/admin.Ida66 application/json 31 - 403 - - 136.1107ms
2023-07-27 16:10:51.193 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7244/api/Users/giveAdminRole/Vidal26 - 0
2023-07-27 16:10:51.195 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (SuperAdmin)
2023-07-27 16:10:51.197 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-07-27 16:10:51.199 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7244/api/Users/giveAdminRole/Vidal26 - 0 - 403 - - 5.5945ms
2023-07-27 16:10:53.465 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7244/api/Auth/BearerToken application/json 57
2023-07-27 16:10:53.467 +03:00 [INF] Executing endpoint 'ToDoAppAPI.Controllers.AuthController.Authonticate (ToDoAppAPI)'
2023-07-27 16:10:53.468 +03:00 [INF] Route matched with {action = "Authonticate", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ToDoAppAPI.Dtos.Users.Authenticate.AuthenticationResponseDto]] Authonticate(ToDoAppAPI.Dtos.Users.Authenticate.AuthenticationRequestDto) on controller ToDoAppAPI.Controllers.AuthController (ToDoAppAPI).
2023-07-27 16:10:53.474 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-07-27 16:10:53.494 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2023-07-27 16:10:53.499 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-07-27 16:10:53.503 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-07-27 16:10:53.509 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2023-07-27 16:10:53.515 +03:00 [INF] Executing OkObjectResult, writing value of type 'ToDoAppAPI.Dtos.Users.Authenticate.AuthenticationResponseDto'.
2023-07-27 16:10:53.516 +03:00 [INF] Executed action ToDoAppAPI.Controllers.AuthController.Authonticate (ToDoAppAPI) in 46.5696ms
2023-07-27 16:10:53.518 +03:00 [INF] Executed endpoint 'ToDoAppAPI.Controllers.AuthController.Authonticate (ToDoAppAPI)'
2023-07-27 16:10:53.520 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7244/api/Auth/BearerToken application/json 57 - 200 - application/json;+charset=utf-8 55.4286ms
2023-07-27 16:13:21.661 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7244/api/Auth/BearerToken application/json 57
2023-07-27 16:13:21.665 +03:00 [INF] Executing endpoint 'ToDoAppAPI.Controllers.AuthController.Authonticate (ToDoAppAPI)'
2023-07-27 16:13:21.669 +03:00 [INF] Route matched with {action = "Authonticate", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ToDoAppAPI.Dtos.Users.Authenticate.AuthenticationResponseDto]] Authonticate(ToDoAppAPI.Dtos.Users.Authenticate.AuthenticationRequestDto) on controller ToDoAppAPI.Controllers.AuthController (ToDoAppAPI).
2023-07-27 16:13:21.711 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-07-27 16:13:21.732 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2023-07-27 16:13:21.822 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-07-27 16:13:21.831 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-07-27 16:13:21.836 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2023-07-27 16:13:21.838 +03:00 [INF] Executing OkObjectResult, writing value of type 'ToDoAppAPI.Dtos.Users.Authenticate.AuthenticationResponseDto'.
2023-07-27 16:13:21.841 +03:00 [INF] Executed action ToDoAppAPI.Controllers.AuthController.Authonticate (ToDoAppAPI) in 143.2504ms
2023-07-27 16:13:21.842 +03:00 [INF] Executed endpoint 'ToDoAppAPI.Controllers.AuthController.Authonticate (ToDoAppAPI)'
2023-07-27 16:13:21.843 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7244/api/Auth/BearerToken application/json 57 - 200 - application/json;+charset=utf-8 182.0643ms
2023-07-27 16:13:24.682 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7244/api/Users/giveAdminRole/Vidal26 - 0
2023-07-27 16:13:24.685 +03:00 [INF] Executing endpoint 'ToDoAppAPI.Controllers.UsersController.AssignAdminRole (ToDoAppAPI)'
2023-07-27 16:13:24.690 +03:00 [INF] Route matched with {action = "AssignAdminRole", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] AssignAdminRole(System.String) on controller ToDoAppAPI.Controllers.UsersController (ToDoAppAPI).
2023-07-27 16:13:24.702 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-07-27 16:13:24.717 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-07-27 16:13:24.723 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2023-07-27 16:13:24.729 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-07-27 16:13:24.740 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-07-27 16:13:24.745 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-07-27 16:13:24.774 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p18='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p19='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [FirstName] = @p6, [LastName] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2023-07-27 16:13:24.786 +03:00 [INF] Executing AcceptedResult, writing value of type 'null'.
2023-07-27 16:13:24.787 +03:00 [INF] Executed action ToDoAppAPI.Controllers.UsersController.AssignAdminRole (ToDoAppAPI) in 95.0851ms
2023-07-27 16:13:24.789 +03:00 [INF] Executed endpoint 'ToDoAppAPI.Controllers.UsersController.AssignAdminRole (ToDoAppAPI)'
2023-07-27 16:13:24.791 +03:00 [ERR] Connection id "0HMSEK8UMKQ27", Request id "0HMSEK8UMKQ27:00000003": An unhandled exception was thrown by the application.
System.InvalidOperationException: Response Content-Length mismatch: too many bytes written (101 of 0).
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.VerifyAndUpdateWrite(Int32 count)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.Advance(Int32 bytes)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponsePipeWriter.Advance(Int32 bytes)
   at Microsoft.AspNetCore.Http.HttpResponseWritingExtensions.Write(HttpResponse response, String text, Encoding encoding)
   at Microsoft.AspNetCore.Http.HttpResponseWritingExtensions.WriteAsync(HttpResponse response, String text, Encoding encoding, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.HttpResponseWritingExtensions.WriteAsync(HttpResponse response, String text, CancellationToken cancellationToken)
   at ToDoAppAPI.Utitlities.Responses.ResponseWrapperMiddlwware.Invoke(HttpContext context) in e:\02-Play Ground\ToDoApp.API\src\ToDoAppAPI\Utitlities\Responses\ResponseWrapperMiddlwware.cs:line 60
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2023-07-27 16:13:24.803 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7244/api/Users/giveAdminRole/Vidal26 - 0 - 202 0 - 120.4687ms
2023-07-27 16:13:33.174 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7244/api/Users/admins - -
2023-07-27 16:13:33.175 +03:00 [INF] Executing endpoint 'ToDoAppAPI.Controllers.UsersController.getAllAdmins (ToDoAppAPI)'
2023-07-27 16:13:33.180 +03:00 [INF] Route matched with {action = "getAllAdmins", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ToDoAppAPI.Dtos.Users.GetUserOutputDto]]] getAllAdmins() on controller ToDoAppAPI.Controllers.UsersController (ToDoAppAPI).
2023-07-27 16:13:33.190 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-07-27 16:13:33.207 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FirstName], [a0].[LastName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2023-07-27 16:13:33.210 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[ToDoAppAPI.Dtos.Users.GetUserOutputDto, ToDoAppAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-07-27 16:13:33.212 +03:00 [INF] Executed action ToDoAppAPI.Controllers.UsersController.getAllAdmins (ToDoAppAPI) in 29.3075ms
2023-07-27 16:13:33.213 +03:00 [INF] Executed endpoint 'ToDoAppAPI.Controllers.UsersController.getAllAdmins (ToDoAppAPI)'
2023-07-27 16:13:33.214 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7244/api/Users/admins - - - 200 - application/json;+charset=utf-8 40.3485ms
2023-07-27 16:13:49.333 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7244/api/Users application/json 152
2023-07-27 16:13:49.335 +03:00 [INF] Executing endpoint 'ToDoAppAPI.Controllers.UsersController.CreateUser (ToDoAppAPI)'
2023-07-27 16:13:49.336 +03:00 [INF] Route matched with {action = "CreateUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ToDoAppAPI.Dtos.Users.GetUserOutputDto]] CreateUser(ToDoAppAPI.Dtos.Users.CreateUserInputDto) on controller ToDoAppAPI.Controllers.UsersController (ToDoAppAPI).
2023-07-27 16:13:49.349 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-07-27 16:13:49.359 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-07-27 16:13:49.368 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2023-07-27 16:13:49.372 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'ToDoAppAPI.Dtos.Users.GetUserOutputDto'.
2023-07-27 16:13:49.374 +03:00 [INF] Executed action ToDoAppAPI.Controllers.UsersController.CreateUser (ToDoAppAPI) in 35.2383ms
2023-07-27 16:13:49.375 +03:00 [INF] Executed endpoint 'ToDoAppAPI.Controllers.UsersController.CreateUser (ToDoAppAPI)'
2023-07-27 16:13:49.377 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7244/api/Users application/json 152 - 201 - application/json;+charset=utf-8 43.1535ms
2023-07-27 16:13:54.895 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7244/api/Users/giveAdminRole/Elise.Huels - 0
2023-07-27 16:13:54.897 +03:00 [INF] Executing endpoint 'ToDoAppAPI.Controllers.UsersController.AssignAdminRole (ToDoAppAPI)'
2023-07-27 16:13:54.899 +03:00 [INF] Route matched with {action = "AssignAdminRole", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] AssignAdminRole(System.String) on controller ToDoAppAPI.Controllers.UsersController (ToDoAppAPI).
2023-07-27 16:13:54.903 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-07-27 16:13:54.906 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-07-27 16:13:54.911 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2023-07-27 16:13:54.914 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-07-27 16:13:54.919 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-07-27 16:13:54.924 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-07-27 16:13:54.933 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p18='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p19='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [FirstName] = @p6, [LastName] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2023-07-27 16:13:54.937 +03:00 [INF] Executing AcceptedResult, writing value of type 'null'.
2023-07-27 16:13:54.938 +03:00 [INF] Executed action ToDoAppAPI.Controllers.UsersController.AssignAdminRole (ToDoAppAPI) in 36.3959ms
2023-07-27 16:13:54.939 +03:00 [INF] Executed endpoint 'ToDoAppAPI.Controllers.UsersController.AssignAdminRole (ToDoAppAPI)'
2023-07-27 16:13:54.940 +03:00 [ERR] Connection id "0HMSEK8UMKQ29", Request id "0HMSEK8UMKQ29:00000004": An unhandled exception was thrown by the application.
System.InvalidOperationException: Response Content-Length mismatch: too many bytes written (101 of 0).
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.VerifyAndUpdateWrite(Int32 count)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.Advance(Int32 bytes)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponsePipeWriter.Advance(Int32 bytes)
   at Microsoft.AspNetCore.Http.HttpResponseWritingExtensions.Write(HttpResponse response, String text, Encoding encoding)
   at Microsoft.AspNetCore.Http.HttpResponseWritingExtensions.WriteAsync(HttpResponse response, String text, Encoding encoding, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.HttpResponseWritingExtensions.WriteAsync(HttpResponse response, String text, CancellationToken cancellationToken)
   at ToDoAppAPI.Utitlities.Responses.ResponseWrapperMiddlwware.Invoke(HttpContext context) in e:\02-Play Ground\ToDoApp.API\src\ToDoAppAPI\Utitlities\Responses\ResponseWrapperMiddlwware.cs:line 60
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2023-07-27 16:13:54.946 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7244/api/Users/giveAdminRole/Elise.Huels - 0 - 202 0 - 50.9065ms
2023-07-27 16:13:59.117 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7244/api/Users/admins - -
2023-07-27 16:13:59.119 +03:00 [INF] Executing endpoint 'ToDoAppAPI.Controllers.UsersController.getAllAdmins (ToDoAppAPI)'
2023-07-27 16:13:59.120 +03:00 [INF] Route matched with {action = "getAllAdmins", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ToDoAppAPI.Dtos.Users.GetUserOutputDto]]] getAllAdmins() on controller ToDoAppAPI.Controllers.UsersController (ToDoAppAPI).
2023-07-27 16:13:59.124 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-07-27 16:13:59.128 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FirstName], [a0].[LastName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2023-07-27 16:13:59.131 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[ToDoAppAPI.Dtos.Users.GetUserOutputDto, ToDoAppAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-07-27 16:13:59.133 +03:00 [INF] Executed action ToDoAppAPI.Controllers.UsersController.getAllAdmins (ToDoAppAPI) in 10.4791ms
2023-07-27 16:13:59.136 +03:00 [INF] Executed endpoint 'ToDoAppAPI.Controllers.UsersController.getAllAdmins (ToDoAppAPI)'
2023-07-27 16:13:59.140 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7244/api/Users/admins - - - 200 - application/json;+charset=utf-8 22.7542ms
2023-07-27 16:14:40.500 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7244/api/Users/giveAdminRole/admin.Ida66 - 0
2023-07-27 16:14:40.501 +03:00 [INF] Executing endpoint 'ToDoAppAPI.Controllers.UsersController.AssignAdminRole (ToDoAppAPI)'
2023-07-27 16:14:40.502 +03:00 [INF] Route matched with {action = "AssignAdminRole", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] AssignAdminRole(System.String) on controller ToDoAppAPI.Controllers.UsersController (ToDoAppAPI).
2023-07-27 16:14:40.511 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-07-27 16:14:40.517 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-07-27 16:14:40.522 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2023-07-27 16:14:40.526 +03:00 [WRN] User is already in role Admin.
2023-07-27 16:14:40.528 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.List`1[[Microsoft.AspNetCore.Identity.IdentityError, Microsoft.Extensions.Identity.Core, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
2023-07-27 16:14:40.531 +03:00 [INF] Executed action ToDoAppAPI.Controllers.UsersController.AssignAdminRole (ToDoAppAPI) in 26.705ms
2023-07-27 16:14:40.533 +03:00 [INF] Executed endpoint 'ToDoAppAPI.Controllers.UsersController.AssignAdminRole (ToDoAppAPI)'
2023-07-27 16:14:40.534 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7244/api/Users/giveAdminRole/admin.Ida66 - 0 - 400 - application/json;+charset=utf-8 34.1433ms
2023-07-27 16:15:18.194 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7244/api/Users/removeAdminRole/admin.Ida66 - 0
2023-07-27 16:15:18.211 +03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2023-07-27 16:15:18.213 +03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2023-07-27 16:15:18.216 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7244/api/Users/removeAdminRole/admin.Ida66 - 0 - 405 - - 21.4712ms
2023-07-27 16:15:40.169 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7244/api/Users/removeAdminRole/admin.Ida66 - -
2023-07-27 16:15:40.171 +03:00 [INF] Executing endpoint 'ToDoAppAPI.Controllers.UsersController.RemoveAdminRole (ToDoAppAPI)'
2023-07-27 16:15:40.184 +03:00 [INF] Route matched with {action = "RemoveAdminRole", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] RemoveAdminRole(System.String) on controller ToDoAppAPI.Controllers.UsersController (ToDoAppAPI).
2023-07-27 16:15:40.190 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-07-27 16:15:40.234 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-07-27 16:15:40.241 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2023-07-27 16:15:40.247 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-07-27 16:15:40.252 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-07-27 16:15:40.268 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-07-27 16:15:40.280 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p18='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p19='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [AspNetUserRoles]
OUTPUT 1
WHERE [RoleId] = @p0 AND [UserId] = @p1;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [FirstName] = @p6, [LastName] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2023-07-27 16:15:40.286 +03:00 [INF] Executing AcceptedResult, writing value of type 'null'.
2023-07-27 16:15:40.288 +03:00 [INF] Executed action ToDoAppAPI.Controllers.UsersController.RemoveAdminRole (ToDoAppAPI) in 101.9942ms
2023-07-27 16:15:40.290 +03:00 [INF] Executed endpoint 'ToDoAppAPI.Controllers.UsersController.RemoveAdminRole (ToDoAppAPI)'
2023-07-27 16:15:40.292 +03:00 [ERR] Connection id "0HMSEK8UMKQ2B", Request id "0HMSEK8UMKQ2B:00000005": An unhandled exception was thrown by the application.
System.InvalidOperationException: Response Content-Length mismatch: too many bytes written (101 of 0).
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.VerifyAndUpdateWrite(Int32 count)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.Advance(Int32 bytes)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponsePipeWriter.Advance(Int32 bytes)
   at Microsoft.AspNetCore.Http.HttpResponseWritingExtensions.Write(HttpResponse response, String text, Encoding encoding)
   at Microsoft.AspNetCore.Http.HttpResponseWritingExtensions.WriteAsync(HttpResponse response, String text, Encoding encoding, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.HttpResponseWritingExtensions.WriteAsync(HttpResponse response, String text, CancellationToken cancellationToken)
   at ToDoAppAPI.Utitlities.Responses.ResponseWrapperMiddlwware.Invoke(HttpContext context) in e:\02-Play Ground\ToDoApp.API\src\ToDoAppAPI\Utitlities\Responses\ResponseWrapperMiddlwware.cs:line 60
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2023-07-27 16:15:40.301 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7244/api/Users/removeAdminRole/admin.Ida66 - - - 202 0 - 132.3519ms
2023-07-27 16:15:55.788 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7244/api/Users/admins - -
2023-07-27 16:15:55.805 +03:00 [INF] Executing endpoint 'ToDoAppAPI.Controllers.UsersController.getAllAdmins (ToDoAppAPI)'
2023-07-27 16:15:55.807 +03:00 [INF] Route matched with {action = "getAllAdmins", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ToDoAppAPI.Dtos.Users.GetUserOutputDto]]] getAllAdmins() on controller ToDoAppAPI.Controllers.UsersController (ToDoAppAPI).
2023-07-27 16:15:55.812 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-07-27 16:15:55.819 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FirstName], [a0].[LastName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2023-07-27 16:15:55.823 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[ToDoAppAPI.Dtos.Users.GetUserOutputDto, ToDoAppAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-07-27 16:15:55.831 +03:00 [INF] Executed action ToDoAppAPI.Controllers.UsersController.getAllAdmins (ToDoAppAPI) in 20.3004ms
2023-07-27 16:15:55.834 +03:00 [INF] Executed endpoint 'ToDoAppAPI.Controllers.UsersController.getAllAdmins (ToDoAppAPI)'
2023-07-27 16:15:55.836 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7244/api/Users/admins - - - 200 - application/json;+charset=utf-8 47.3795ms
2023-07-27 16:19:41.879 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7244/api/Auth/Register application/json 145
2023-07-27 16:19:41.881 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '7/27/2023 1:14:21 PM', Current time: '7/27/2023 1:19:41 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-07-27 16:19:41.905 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '7/27/2023 1:14:21 PM', Current time: '7/27/2023 1:19:41 PM'.
2023-07-27 16:19:41.907 +03:00 [INF] Executing endpoint 'ToDoAppAPI.Controllers.AuthController.Register (ToDoAppAPI)'
2023-07-27 16:19:41.911 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Register(ToDoAppAPI.Dtos.Users.Authenticate.RegisterInputDto) on controller ToDoAppAPI.Controllers.AuthController (ToDoAppAPI).
2023-07-27 16:19:41.940 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-07-27 16:19:41.945 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-07-27 16:19:41.963 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2023-07-27 16:19:41.968 +03:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-27 16:19:41.970 +03:00 [INF] Executed action ToDoAppAPI.Controllers.AuthController.Register (ToDoAppAPI) in 56.2913ms
2023-07-27 16:19:41.971 +03:00 [INF] Executed endpoint 'ToDoAppAPI.Controllers.AuthController.Register (ToDoAppAPI)'
2023-07-27 16:19:41.972 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7244/api/Auth/Register application/json 145 - 202 - application/json;+charset=utf-8 93.3013ms
2023-07-27 16:19:50.817 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7244/api/Auth/Register application/json 147
2023-07-27 16:19:50.819 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '7/27/2023 1:14:21 PM', Current time: '7/27/2023 1:19:50 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-07-27 16:19:50.835 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '7/27/2023 1:14:21 PM', Current time: '7/27/2023 1:19:50 PM'.
2023-07-27 16:19:50.836 +03:00 [INF] Executing endpoint 'ToDoAppAPI.Controllers.AuthController.Register (ToDoAppAPI)'
2023-07-27 16:19:50.840 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Register(ToDoAppAPI.Dtos.Users.Authenticate.RegisterInputDto) on controller ToDoAppAPI.Controllers.AuthController (ToDoAppAPI).
2023-07-27 16:19:50.866 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-07-27 16:19:50.873 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-07-27 16:19:50.879 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2023-07-27 16:19:50.883 +03:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-27 16:19:50.894 +03:00 [INF] Executed action ToDoAppAPI.Controllers.AuthController.Register (ToDoAppAPI) in 51.3624ms
2023-07-27 16:19:50.895 +03:00 [INF] Executed endpoint 'ToDoAppAPI.Controllers.AuthController.Register (ToDoAppAPI)'
2023-07-27 16:19:50.896 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7244/api/Auth/Register application/json 147 - 202 - application/json;+charset=utf-8 78.9402ms
